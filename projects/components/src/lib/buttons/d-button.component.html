<ng-container *ngIf="href && !routerLink; else routeLink">
  <a [class.disabled]="disabled ? true : null" [href]="href" class="btn auto-compact {{buttonClass}}" [ngClass]="{'w-100': fill}" [title]="title ? title : text">
<ng-template [ngTemplateOutlet]="internalBlock"></ng-template>
  </a>
</ng-container>
<ng-template #routeLink>
  <a [class.disabled]="disabled ? true : null" [routerLink]="routerLink" [queryParamsHandling]="queryParamsHandling" class="btn auto-compact {{buttonClass}}" [ngClass]="{ 'w-100': fill}" [title]="title ? title : text">
    <ng-template [ngTemplateOutlet]="internalBlock"></ng-template>
  </a>
</ng-template>

<ng-template #internalBlock>
  <i *ngIf="busy" class="fa fa-spin fa-spinner"></i>
  <i *ngIf="iconClass" [class]="iconClass"></i>
  <span *ngIf="!compact" [ngClass]="[autoCompact && iconClass ? 'auto-compact-item' : '']" >
    <span *ngIf="text" class="ml-1">{{text}}</span>
    <span [ngClass]="{'ml-1': iconClass}"><ng-content></ng-content></span>
  </span>
  <span *ngIf="badge" class="badge ml-1" [ngClass]="[badgeClass]">{{badge}}</span>
</ng-template>